(()=>{"use strict";var a={pluginUrl:besnr.plugin_url,pluginDomain:besnr.plugin_domain,ajaxUrl:besnr.ajax_url,ajaxNonce:besnr.ajax_nonce},o={ajaxRequest:function(e,t,n,r){jQuery.ajax({method:"post",url:a.ajaxUrl,data:jQuery.extend({action:e,_wpnonce:a.ajaxNonce},n),beforeSend:function(){return o.beforeSendCallback(t)},success:function(e){return r(JSON.parse(e)[0])},complete:function(){return o.completeCallback(t)},error:function(){return o.errorCallback(t)}})},beforeSendCallback:function(e){e.find(".besnr-loading-bar").show()},completeCallback:function(e){e.find(".besnr-loading-bar").hide()},errorCallback:function(e){var e=e.find(".besnr-output").empty(),t='<storng>Internal Server Error!</strong><br />Contact your hosting provider and access your logs to learn more about what is causing the error; then the plugin author with the detials @ <a href="mailto:info@'.concat(a.pluginDomain,'">info@').concat(a.pluginDomain,"</a>.");e.addClass("besnr-output-active besnr-output-active-error"),e.html(t)},outputCallback:function(e,t,n){e=e.find(".besnr-output").empty();e.removeClass("besnr-output-active-success besnr-output-active-error").addClass("besnr-output-active-"+(1===t?"success":"error")),e.addClass("besnr-output-active").show().html(n)}},e={resetSettings:function(e){e.preventDefault();var t=jQuery(e.target).closest(".besnr-admin");window.confirm("Are you sure you want to RESET ALL options to their defaults?")&&o.ajaxRequest("besnr_reset_settings",t,"",function(e){e&&!1===e.success||(o.outputCallback(t,e.status,e.message),jQuery("html, body").animate({scrollTop:0},"fast"),setTimeout(function(){return document.location.reload(!0)},1e3))})},handleSettingsNotices:function(){var e=jQuery(".notice.settings-error"),t=jQuery("#besnr-output");jQuery('input[name="_wp_http_referer"][value*="page=besnr_settings"]').length&&0<e.length&&t&&(t.html("\n      <strong>Options updated.</strong> Setting options have been saved and updated successfully.\n    "),t.addClass("notice-warning besnr-output-active"),setTimeout(function(){return e.fadeOut()},2e3))}};jQuery(document).on("click",'button[name="besnr-reset-settings"]',e.resetSettings),e.handleSettingsNotices()})();